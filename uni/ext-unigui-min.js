/*!
 * uniGUI Library extension for Ext JS
 * by Farshad Mohajeri  
 * Copyright(c) 2009-2015 FMSoft Inc.
 * info@fmsoft.net
 * http://www.unigui.com
 !*/
function uniGetValues(form){var values=form.getValues(false,true,false,true),res="",val="",encoder=encodeURIComponent;for(var propertyName in values){var ffield=null;try{ffield=eval(propertyName)}catch(err){ffield=null}if(ffield&&ffield.getValue&&!ffield.fieldEditBusy){if(ffield.submitState==undefined){ffield.submitState=0}else{ffield.submitState++}ffield.submitState%=65535;ffield.submittedValue=ffield.getValue();if(typeof ffield.originalValue!="object"){ffield.originalValue="\0"}else{if(ffield.getXTypes().indexOf("checkboxgroup")>0){_sdb_(ffield)}else{if(Ext.isDate(ffield.originalValue)){ffield.originalValue.setFullYear(0)}}}var stVal="";if(ffield.stateValue!=undefined){stVal=ffield.stateValue}var stSub=ffield.submitState.toString(16);ffield.fieldEdited=false;if(ffield.uniFmtObj){val=ffield.getValue()}else{if(ffield.isXType("timefield")){val=_ts_(ffield.getValue())}else{if(ffield.isXType("datefield")){val=_ds_(ffield.getValue())}else{if(ffield.isXType("ux-codemirror")||ffield.isXType("canvasfield")){val=ffield.getValue()}else{val=values[propertyName]}}}}if(Ext.isArray(val)){val=val.join(";")}if(val==null){val=""}res+="&"+encoder(propertyName)+"="+encoder("\2"+stSub+"\2"+stVal+"\2"+val)}}return(res)}function _sdb_(d){if(d.getBoxes){var c=d.getBoxes(),a,e=c.length;for(a=0;a<e;a++){c[a].originalValue=undefined}}}function _fcg_(a){if(a){a.focus();_sfc_(a,true)}}function _cgds_(b,a){delete b.dirtyRow;if(a){b.hideMask(true)}}function _src_(d,b,g,f,e){var a=null;var c="\3";g=parseInt(g);if(Ext.isNumber(g)){a=c+b+c+g}else{a=c+b+c+"NaN"}d.currRow=b&2147483647;if(g){d.currCol=g}try{if(d.grid&&Ext.isObject(d.grid.dirtyRow)){if(d.grid.dirtyRow.row!=d.currRow&&d.grid.dirtyRow.rec.dirty){delete d.grid.dirtyRow;if(d.grid.loadDataMask&&d.grid.loadDataMask.ldMask){d.grid.showMaskCfg(d.grid.loadDataMask,true);a=a+c+"X"}}}}finally{a=a+c;if(e&&e.data&&Ext.isNumber(e.data._r)){a=a+"["+e.data._r+"]"}d.setValue(a);if(f){d.submittedValue=d.originalValue=a}}if(d.grid&&d.grid.fxRows&&b<d.grid.fxRows){return(false)}return(true)}function _sfv_(c,b,a){c.fieldEdited=false;if(c.submitState==b||c.submitState==undefined||b==undefined){if(a!==undefined){c.suspendCheckChange++;try{c.setValue(a)}finally{c.suspendCheckChange--}}if(c.resetOriginalValue){c.resetOriginalValue()}else{c.originalValue=c.getValue()}if(Ext.isDate(c.getValue())){c.lastValue=c.getValue()}else{c.lastValue=(c.getRawValue?c.getRawValue():c.getValue())}c.submittedValue=undefined}else{if(a!==undefined){c.suspendCheckChange++;try{c.setValue(a)}finally{c.suspendCheckChange--}}}}function _rsov_(b,a){if(b.submitState!=undefined&&b.submitState<=a&&b.submittedValue!=undefined){if(b.getXTypes&&b.getXTypes().indexOf("checkboxgroup")>0){b.resetOriginalValue();return}b.originalValue=b.submittedValue}}function _getrno_(a){if(a&&a.data&&Ext.isNumber(a.data._r)){return a.data._r}return -1}function _asst_(a){if(a&&a.beforeBlur){a.beforeBlur()}return""}function _d_(b){try{if(typeof b=="object"&&b&&b.destroy){b.destroy()}}catch(a){}}function _cls_(a){if(a&&a.boundList){a.boundList.getSelectionModel().selected.clear()}}var __gcinfo__="";function _gci_(){if(__gcinfo__!=""){return(__gcinfo__)}var f=0,e=0,d=0;var c=1,a=0;function g(b){if(b){f|=c}c<<=1}g(Ext.isChrome);g(Ext.isGecko);g(Ext.isIE);g(Ext.isOpera);g(Ext.isSafari);g(Ext.isWebKit);e=f;c=1;f=0;g(Ext.isLinux);g(Ext.isMac);g(Ext.isWindows);d=f;__gcinfo__="br="+e.toString(10)+";os="+d.toString(10)+";";if(Ext.firefoxVersion){a=Ext.firefoxVersion}else{if(Ext.ieVersion){a=Ext.ieVersion}else{if(Ext.chromeVersion){a=Ext.chromeVersion}else{if(Ext.safariVersion){a=Ext.safariVersion}else{if(Ext.webKitVersion){a=Ext.webKitVersion}}}}}if(a===0){if(Ext.isIE9){a=9}else{if(Ext.isIE10){a=10}else{if(Ext.isIE11){a=11}}}}__gcinfo__+="bv="+a.toString(10);return(__gcinfo__)}function fobj2style(d,b){if(d.fc||d.ft||d.b){var c='style="';if(d.fc){c+="color:"+d.fc+";"}if(d.ft){c+="font:"+d.ft+";"}if(b!==true){if(d.b){c+="background-color:"+d.b+";"}}return(c+'"')}return null}function getColFromIndex(c,a){var d=null;if(a){if(a.getCachedColumns){d=a.getCachedColumns()}if(!d){return null}var b=d[c];if(!b){return null}return b}return null}function _getsum_(e){if(e&&e.length){var g=false;var b=e[0].store;if(b){g=b.hasTotal&&(b.count()==e.length)}var h=e[e.length-1].data;var c={};for(key in h){var f="_s";if(g){f="_st"}f=f+key;var a="_s"+key;if(h[f]){c[a]=h[f]}var f="_sa";if(g){f="_sta"}f=f+key;var a="_sa"+key;if(h[f]){c[a]=h[f]}}return c}return null}if(Ext.getVersion().major==4&&Ext.getVersion().shortVersion>="4241581"){function _rndsum_(value,summaryData,dataIndex,metaData){if(value&&typeof value=="object"){var v=value["_s"+dataIndex];var va=value["_sa"+dataIndex];if(va){try{eval("var fobj="+va+";")}catch(err){}if(typeof fobj!="object"){var fobj={}}sty=fobj2style(fobj)}if(sty){metaData.tdAttr=sty}return(v)}return""}}else{function _rndsum_(value,metaData,record,rowIndex,colIndex,store,view){var sty=null,dataIndex=-1;cc=getColFromIndex(colIndex,view);if(cc){dataIndex=cc.dataIndex}else{return"ERROR_3"}if(value&&typeof value=="object"){var v=value["_s"+dataIndex];var va=value["_sa"+dataIndex];if(va){try{eval("var fobj="+va+";")}catch(err){}if(typeof fobj!="object"){var fobj={}}sty=fobj2style(fobj)}if(sty){metaData.tdAttr=sty}return(v)}return""}}function _rndcll_(g,c,b,i,f,d,a){try{return int_rndcll_(g,c,b,i,f,d,a)}catch(h){return h.message}}function int_rndcll_(value,metaData,record,rowIndex,colIndex,store,view){var colAttr="{}",DefColDf="d/m/Y",DefColTf="H:i:s",dVal=null,colType="",col=null,colFmt=null,noBg=true,fxCell=false,dataIndex=-1;col=getColFromIndex(colIndex,view);if(!col){return"ERROR_1"}var gg=store.grid;if(gg){if(gg.fxCols&&colIndex<gg.fxCols){fxCell=true}if(gg.fxRows&&rowIndex<gg.fxRows){fxCell=true}}dataIndex=col.dataIndex;colAttr=col.attr;if(!colAttr||colAttr==""){colAttr="{}"}colFmt=col.cf;colType=col.ct;if(!colFmt){colFmt=null}if(!colType){colType=""}var cellAttr=null;if(record.data._x==1){cellAttr=record.data["_"+dataIndex]}if(cellAttr&&typeof cellAttr=="object"){dVal=cellAttr.d;cellAttr=cellAttr.a}if(!cellAttr||cellAttr==""){cellAttr="{}"}if(cellAttr!="{}"||colAttr!="{}"){try{eval("var cea="+cellAttr+";")}catch(err){}try{eval("var coa="+colAttr+";")}catch(err){}if(typeof cea!="object"){var cea={}}if(typeof coa!="object"){var coa={}}if(!cea.b){cea.b=coa.b}if(!cea.fc){cea.fc=coa.fc}if(!cea.ft){cea.ft=coa.ft}noBg=!cea.b;var sty=fobj2style(cea);if(sty){metaData.tdAttr=sty}}if(fxCell&&noBg){if(gg.fxColor){metaData.style="background-color:"+gg.fxColor}else{metaData.tdCls="x-theme-color"}}if(dVal!=null){return(dVal)}switch(colType){case"":return(value);case"number":case"float":if(colFmt){var nn=Ext.util.Format.number;if(colFmt[0]=="$"){colFmt=colFmt.substring(1);if(value<0){value=-value;return("-"+nn(value,colFmt))}else{return(nn(value,colFmt))}}else{return(nn(value,colFmt))}}return(value);case"boolean":if(typeof value=="boolean"){if(colFmt&&typeof colFmt=="object"){return(colFmt[value])}}return(value);case"datetime":if(value&&value.getDate){var defFmt=false;if(!colFmt){defFmt=true;colFmt=DefColDf}if(colFmt.substr(0,2)=="**"){defFmt=true;colFmt=colFmt.slice(2)}if(defFmt){var hm=Ext.Date.format(value,"His");if(hm=="000000"){return(Ext.Date.format(value,colFmt))}else{return(Ext.Date.format(value,colFmt+" H:i:s"))}}else{return(Ext.Date.format(value,colFmt))}}if(value==null){value=""}return(value);case"time":if(value&&value.getDate){if(!colFmt){colFmt=DefColTf}return(Ext.Date.format(value,colFmt))}if(value==null){value=""}return(value);case"date":if(value&&value.getDate){if(!colFmt){colFmt=DefColDf}return(Ext.Date.format(value,colFmt))}if(value==null){value=""}return(value);default:return(value)}}Ext.override(Ext.picker.Date,{setValue:function(){var a=this.callParent(arguments);if(this.hfield){this.hfield.setValue(Ext.Date.format(this.getValue(),"dmY"))}return a}});Ext.override(Ext.form.field.Radio,{getModelData:function(){var b={};var a=this.getSubmitValue();if(!a){this.originalValue="\0";return null}if(this.nm){b[this.nm]=a}else{if(this.ownerCt&&this.ownerCt.nm){b[this.ownerCt.nm]=a}else{b[this.name]=a}}return b}});Ext.override(Ext.form.ComboBox,{initList:Ext.Function.createSequence(Ext.form.ComboBox.prototype.initList,function(){if(!this.tpl){this.tpl=new Ext.XTemplate('<tpl for="."><div class="x-combo-list-item">{',this.displayField,":this.blank}</div></tpl>",{blank:function(a){return a===""?"&nbsp":a}})}})});Ext.override(Ext.form.Field,{onFocus:Ext.Function.createSequence(Ext.form.Field.prototype.onFocus,function(){var a=_gmo_(this);if(a.uform){a.uform.activeField=a;_sfc_(a)}})});if(Ext.ux.form.MultiSelect){Ext.override(Ext.ux.form.MultiSelect,{on:function(a,d,c,b){if(a=="keypress"||a=="keydown"||a=="keyup"){if(this.bodyEl){return this.bodyEl.on(a,d,this,b)}}return this.callParent(arguments)}})}Ext.override(Ext.grid.Panel,{bPlugin:null,initComponent:function(){var a=this;a.callParent();a.addListener("afterrender",a.checkRender,a)},checkRender:function(){var a=this;if(a.pendingPos){_gsc_(a.cellModel,a.pendingPos.row,a.pendingPos.column);delete a.pendingPos}},on:function(b,e,d,c){if(b=="keypress"||b=="keydown"||b=="keyup"){var a=this.getView();if(a){return a.addElListener(b,e,a,c)}}return this.callParent(arguments)},loadX:function(b,c,a){if(this.store.getCount()==0){this.store.load({params:{start:b,options:a}})}else{if(!this.bPlugin){bPlugin=this.getPlugin("bufferRenderer")}if(bPlugin){bPlugin.scrollTo(b,c)}}},uniConfigColumns:function(){var a;a=this;if(this.lockedGrid){a=this.lockedGrid;var b=this.lockedGrid.getPlugin("uniGridEditor");if(b){b.onReconfigure()}}if(this.normalGrid){a=this.normalGrid;var b=this.normalGrid.getPlugin("uniGridEditor");if(b){b.onReconfigure()}}if(this.view&&this.view.getCachedColumns){this.view.getCachedColumns(true)}},focus:function(c){var a=this.getView();if(a){if(a.focus){a.focus();if(c){a.focusRow(c)}else{var b=this.selModel.getCurrentPosition();if(b){if(this.selModel===this.cellModel){a.focusCell(b)}else{a.focusRow(b.row)}}}}else{if(this.normalGrid){this.normalGrid.focus()}}}},doKeyNav:function(a){var b=uniVars._actCnt;if(!a){if(b==this){uniVars._globalKbEn=false}if(this.cellModel&&this.cellModel.keyNav){this.cellModel.keyNav.disable()}if(this.rowModel&&this.rowModel.keyNav){this.rowModel.keyNav.disable()}}else{uniVars._globalKbEn=true;if(this.cellModel&&this.cellModel.keyNav){this.cellModel.keyNav.enable()}if(this.rowModel&&this.rowModel.keyNav){this.rowModel.keyNav.enable()}}},showMask:function(c,b,a){this.doKeyNav(false);this.callParent(arguments)},showMaskCfg:function(a,b){this.doKeyNav(false);this.callParent(arguments)},hideMask:function(a){try{this.callParent(arguments)}finally{this.doKeyNav(true)}}});function _maskProcess_(){if(this.grid){this.grid.focusDisabled=false}var a=uniVars._maskObjs;if(a.length){for(var b=a.length-1;b>=0;b--){var c=a[b];if(c.c){c.c--;if(c.c==0){try{if(c.u){c.maskActive=false;c.u.hide();c.u.destroy()}}finally{a.splice(b,1)}}}}}}Ext.override(Ext.data.Store,{load:function(){var c=this;try{if(c.grid){c.grid.focusDisabled=true;if(c.grid.loadDataMask&&c.grid.loadDataMask.ldMask){c.grid.showMaskCfg(c.grid.loadDataMask,true)}}if(!c.proxy||c.proxy.type!="ajax"){return}if(c.hasUniListener!==true){c.hasUniListener=true;c.addListener("load",_maskProcess_,c)}var a=uniVars._maskObjs;if(a.length){for(var b=a.length-1;b>=0;b--){var d=a[b];if(d.o&&d.o.uniMask&&d.o.uniMask.maskWaitData){d.u.mustWaitData=true;d.c++}}}}finally{c.callParent(arguments)}}});Ext.override(Ext.grid.View,{initComponent:function(){var a=this;a.callParent();function b(d){if(d){var e=d.ownerCt;if(e){if(e.nm){return(e)}e=e.ownerCt;if(e&&e.nm){return(e)}}}}a.on("itemkeydown",function(){_sfc_(b(this))});a.on("itemmousedown",function(){_sfc_(b(this))})}});Ext.override(Ext.view.Table,{getCachedColumns:function(a){if(a){delete this.cachedColumns}if(this.cachedColumns){return this.cachedColumns}else{var b=this.ownerCt;if(b.getColumnManager){this.cachedColumns=b.getColumnManager().getColumns()}else{this.cachedColumns=this.getGridColumns()}return this.cachedColumns}},getGridColumns:function(){delete this.cachedColumns;return this.callParent(arguments)},focusCell:function(){var b=this;var a=b.ownerCt;if(a){if(!a.nm){a=a.ownerCt}if(a&&a.nm){if(uniVars._actCnt&&uniVars._actCnt!=a){return b}}}return b.callParent(arguments)}});function _trnd_(i,b,c,f,k,j,g){var e=c.data;if(e){if(e.fc||e.ft){var h='style="';if(e.fc){h+="color:"+e.fc+";"}if(e.ft){h+="font:"+e.ft+";"}b.tdAttr=h+'"'}}return(i)}function _htnr_(a,c,d,b){d.ui._pr=d.ui.render;d.ui.render=function(f){this._pr(f);var g=this.getTextEl();var e=this.node.attributes;if(g){if(!e._fcl){e._fcl=a._fcl}if(!e._fn){e._fn=a._fn}g.style.color=e._fcl;g.style.font=e._fn}}}function _stn_(a,c){var b=a.getRootNode().findChild("id",c,true);if(b){a.selModel.select(b)}}function _cnf_(a,e,d,c,b){var f=a.store.getNodeById(e);if(f){if(f[d]){f[d](c,b)}}}function _snatr_(b,c,a,e){var d=b.store.getNodeById(c);if(d){d.set(a,e);d.commit()}}function _srd_(b,f,c,e,a){var d=b.getAt(f);if(d){if(e===null){d.data=[" "]}else{d.set(c,e);d.set("_"+c,a);if(a!=""){d.set("_x",1)}}d.commit()}}function _axy_(d){var a=false;if(d&&d.getPosition){var c=d.getPosition();if(c[0]<0){a=true;c[0]=0}if(c[1]<0){a=true;c[1]=0}if(a){d.setPosition(c[0],c[1])}}}function _gcdi_(a,b){var c=null;if(a.getCachedColumns){c=a.getCachedColumns()}else{if(a.getCurrentPosition){a=a.getCurrentPosition()}}if(c==null){if(a.view&&a.view.getCachedColumns){c=a.view.getCachedColumns()}}if(c){return parseInt(c[b].dataIndex)}return b}function _ccell_(d){var c=d;var a=c.selection;var b=c.grid;if(!a){a=c.nextSelection}if(a&&b){if(a.row===b.uniRow&&a.column===b.uniCol){return true}b.uniRow=a.row;b.uniCol=a.column}return false}function _fccp_(e,b,h,k){function j(n,m,i,l){var g=false;if(n){Ext.Array.each(n,function(o){if(o.dataIndex!=""&&o.dataIndex==m){g=true;if(i){i.index=n.indexOf(o);i.grid=l}return false}})}return g}var a=[e,e.normalGrid,e.lockedGrid],f=false;if(k){if(e.getColumnManager){c=e.getColumnManager().getColumns()}else{c=e.getGridColumns()}f=j(c,b,h,e);if(f){return true}}else{for(var d=0;d<a.length;d++){if(a[d]&&a[d].view&&a[d].view.getCachedColumns){var c=a[d].view.getCachedColumns();f=j(c,b,h,a[d]);if(f){return true}}}}return false}function _hge_(a){p=a.getPlugin("uniGridEditor");if(p&&p.editor){p.editor.canhide=true;p.editor.hide()}}function _ggp_(c,b,a,e){var d=null;if(_fccp_(c,b,a,e)){d=a.grid.getPlugin("uniGridEditor")}return d}function _cgms_(a){if(a.maskActive){a.hideMask(true)}}function _cgre_(a){var b=a.getPlugin("uniGridEditor");if(b&&b.cancelEdit){b.cancelEdit()}}function _sge_(e,k,c,j){var b=uniVars._actCnt,f={},h=b&&b.isXType&&b.isXType("grid"),i=b&&(h||b.isFormField);var d=uniVars._actFrm_;if(d&&e.uform&&(e.uform!==d)){return}if(!i||b==e){uniVars._actCnt=e;var a=_ggp_(e,c,f,j);if(a){a.startEdit(k,f.index)}}else{if(!h&&b&&b.focus){b.focus()}}}function _flc_(){var a=uniVars._actCnt;if(a&&a.focus){a.focus()}}function _gsc_(f,d,b){if(!f.uniSuspendedEvents){f.uniSuspendedEvents={}}if(f.setCurrentPosition){_ssevt_(f,"select",true);try{if(d==undefined){f.setCurrentPosition()}else{var a={};if(_fccp_(f.grid,b,a)){b=a.index}try{if(f.grid&&!f.grid.rendered){f.grid.pendingPos={row:d,column:b}}else{f.setCurrentPosition({row:d,column:b})}}catch(c){Ext.Msg.show({title:"Error",msg:"Could not set cell position: row: ["+d+", column:"+b+"] :"+c.message,buttons:Ext.MessageBox.OK})}}}finally{_ssevt_(f,"select",false);if(f.grid){f.grid.focusDisabled=false;f.grid.uniRow=d;f.grid.uniCol=b;if(f.grid.hidField){_src_(f.grid.hidField,d,b,true)}}}}if(d!=undefined){_flc_()}}function _gsr_(b,a){_ssevt_(b,"select",true);try{b.select(a)}finally{_ssevt_(b,"select",false);if(b.grid){b.grid.focusDisabled=false;if(b.grid.hidField){_src_(b.grid.hidField,a,null,true)}}}if(a!=undefined){_flc_()}}function _cge_(b){var a;if(b&&b.grid){if(b.grid.plugins){a=b.grid.getPlugin("uniGridEditor");if(a&&a.editing){a.completeEdit()}return}if(b.grid.lockedGrid&&b.grid.lockedGrid.plugins){a=b.grid.lockedGrid.getPlugin("uniGridEditor");if(a&&a.editing){a.completeEdit()}}if(b.grid.normalGrid&&b.grid.normalGrid.plugins){a=b.grid.normalGrid.getPlugin("uniGridEditor");if(a&&a.editing){a.completeEdit()}}}}Ext.define("Ext.grid.uniCheckColumn",{extend:"Ext.grid.column.Column",alias:"widget.unicheckcolumn",chClk:function(sender,col,rr,cc){if(typeof this.ogrid=="string"){this.ogrid=eval(this.ogrid)}var gg=this.ogrid;if(gg&&gg.dirtyRow){if(gg.dirtyRow.row!=rr){return false}}if(typeof cc=="string"){cc=parseInt(cc)}var record=this.ogrid.store.getAt(rr);var cb=!record.get(this.dataIndex);record.set(this.dataIndex,cb);if(!this.stopSelection&&col&&col.myview){var sl=col.myview.selModel;if(sl){sl.selectByPosition({row:rr,column:cc})}}var e={grid:this.ogrid,record:record,value:cb,originalValue:!cb,rowIdx:rr+2147483648,colIdx:cc,column:col};this.ogrid.fireEvent("edit",this.ogrid,e);return true},renderer:function(k,a,d,i,m,l,j){var c=null;try{c=getColFromIndex(m,j);if(c){c.myview=j;var o="&#160;";if(c.cf&&typeof c.cf=="object"){if(typeof k=="boolean"){o+=c.cf[k]}}var b=Ext.baseCSSPrefix,n=b+"grid-checkcolumn";if(this.disabled||c.rdonly){a.tdCls+=" "+this.disabledCls}if(k){n+=" "+b+"grid-checkcolumn-checked"}var f='<div id="'+l.nm+i+"_"+m+'">';f+='&#160;<img class="'+n+'" src="'+Ext.BLANK_IMAGE_URL+'" style="vertical-align:middle;" '+((c.checkSelectable===false)||c.rdonly?"":' onclick="'+c.nm+".chClk(this,"+c.nm+","+i+","+m+');"')+" />";f+=o+"</div>";var h=_rndcll_(f,a,d,i,m,l,j);a.style="padding:1px 1px";return h}}catch(g){return g.message}},init:Ext.emptyFn});function _ce_(a){if(a.column&&a.column.isXType("unicheckcolumn")){return false}return true}function _ae_(c){if(c.record&&c.record.dirty){var b=c.grid;if(b&&b.hidField==undefined){b=b.ownerCt}var a=true;if(a||c.column.isXType("unicheckcolumn")){if(b&&b.hidField){b.dirtyRow={row:b.hidField.currRow,rec:c.record}}}}}function _pd_(a){return(Ext.Date.parse(a,"YmdHis"))}function is_input(a){return(a=="text")||(a=="textarea")||(a=="submit")||(a=="password")}function is_readonly(a){return(a.readOnly)}function _keyMon_(b,j,c){var e=null;var k=uniVars._actFrm_;var d=false;if(k&&k.mKeys&&k.mKeys.e){e=k.mKeys}else{e=uniVars.mKeys}if(e&&e.e){if(e.ea){j.h=(e.ha!==false);d=true}for(var f=0;f<e.a.length;f++){var l=e.a[f];if(c){var g=l.cs;var h=l.ce}else{var g=l.ks;var h=l.ke}if(!h){h=g}if(g&&h){if(b>=g&&b<=h){j.h=(l.h!==false);return true}}}return d}return true}function _prkeyd_(o,h,q,d,c,g,j){var l={h:true};var k=g&&(h==9);if(uniVars._globalKbEn===false){return false}if(uniVars._actFrm_){var n=uniVars._actFrm_;if(n.keyprv||!is_input(o)){if(_keyMon_(h,l)){if(d){n.fireEvent("keyup",uniVars._actFrm_,h,q)}else{n.fireEvent("keydown",uniVars._actFrm_,h,q)}}}if(!d){var b=null;if(n.gNavigate&&n.gNavigate.e){b=n.gNavigate}else{b=uniVars.gNavigate}if(b&&(k||b.e)){if(b.gs&&h==b.gs.k&&q==b.gs.s){n.fireEvent("submit",uniVars._actFrm_);if(b.gs.h!==true){return false}else{return true}}else{if(b.gc&&h==b.gc.k&&q==b.gc.s){n.fireEvent("cancel",uniVars._actFrm_);if(b.gc.h!==true){return false}else{return true}}}if(uniVars._actFrm_.activeField){var i=n.activeField;if((k||b.t)&&h==9&&q==0){var m=true}else{if((k||b.t)&&h==9&&q==1){var a=true}}if(a||b.gp&&h==b.gp.k&&q==b.gp.s){if(j){j.stopEvent()}i.uniSelectNext(i,false,b.c);if(a||b.gp.h!==true){return false}}else{if(m||b.gn&&h==b.gn.k&&q==b.gn.s){if(j){j.stopEvent()}i.uniSelectNext(i,true,b.c);if(m||b.gn.h!==true){return false}}}}}}}if(uniVars._docKeys_.all){return false}if(uniVars._docKeys_.tab&&h==9){return false}if(uniVars._docKeys_.ESC&&h==27){return false}if(uniVars._docKeys_.F5&&h==116){return false}if(uniVars._docKeys_.BS&&h==8){if(is_readonly(c)){return false}if(!is_input(o)){return false}}if(l.h!==true){return false}return true}function _ctu_(a,c){var b=String.fromCharCode(a);if(c){encoder=encodeURIComponent;return(encoder(b))}else{return b}}function _gkp_(b,a){if(b&&b.getCharCode){return(_ctu_(b.getCharCode(),true))}if(a&&a.getCharCode){return(_ctu_(a.getCharCode(),true))}return null}function _prkeyp_(c,d){var b={h:true};if(uniVars._actFrm_){if(uniVars._actFrm_.keyprv||!is_input(c)){var a=_ctu_(d);if(_keyMon_(a,b,true)){uniVars._actFrm_.fireEvent("keypress",uniVars._actFrm_,_ctu_(d,true))}}}if(b.h!==true){return false}return true}function _cwk_(){document.oncontextmenu=function(){if(uniVars._docKeys_.rClick){return false}return true};if(typeof window.event!="undefined"){document.onkeydown=function(){var c=event.srcElement;var b=c.type;var a=event.keyCode;return _prkeyd_(b,a,_pss_(event),false,c)};document.onkeypress=function(){var b=event.keyCode;var a=event.srcElement.type;return _prkeyp_(a,b)};document.onkeyup=function(){var c=event.srcElement;var b=c.type;var a=event.keyCode;return _prkeyd_(b,a,_pss_(event),true,c)}}else{document.onkeydown=function(d){var c=d.target;var b=c.type;var a=d.keyCode;return _prkeyd_(b,a,_pss_(d),false,c)};document.onkeypress=function(c){var b=c.target;var d=c.charCode||c.keyCode;var a=b.type;return _prkeyp_(a,d)};document.onkeyup=function(d){var c=d.target;var b=c.type;var a=d.keyCode;return _prkeyd_(b,a,_pss_(d),true,c)}}Ext.EventManager.addListener(document,"mousemove",function(a){if(uniVars._mouseMove_){a.preventDefault();var b=Ext.EventManager.getPageXY(a);uniVars._mouseMove_.apply(uniVars._mouseThis_,[b[0],b[1]]);return false}return true});Ext.EventManager.addListener(document,"mouseup",function(a){if(uniVars._mouseUp_){try{a.preventDefault();var b=Ext.EventManager.getPageXY(a);uniVars._mouseUp_.apply(uniVars._dragThis_,[b[0],b[1]])}finally{uniVars._mouseThis_=null;uniVars._mouseUp_=null}}return true})}function _dko_(a){if(a){uniVars._docKeys_=a}}function _sdf_(a){if(a&&a.uform){if(uniVars._actFrm_==a.uform){uniVars._actFrm_=uniVars._mFrm_}}}function _saf_(a){if(a&&a.uform){uniVars._actFrm_=a.uform}}Ext.define("Ext.uni.Splitter",{extend:"Ext.container.Container",orientation:"",minSize:0,monitorUniEvents:true,_down:false,_moved:false,_vert:false,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",initComponent:function(){this.callParent(arguments);if(this.orientation=="n"||this.orientation=="s"){this._vert=true}},getNewPos:function(a,g){var c=null;if(this.ownerCt){var f=this.ownerCt.getPosition();if(this._vert){c=g-f[1]}else{c=a-f[0]}var b=this.minSize;if(this.orientation=="w"){b=this.ownerCt.getWidth()-b;if(c>b){c=b}}else{if(this.orientation=="n"){b=this.ownerCt.getHeight()-b;if(c>b){c=b}}else{if(c<b){c=b}else{if(this._vert){var d=this.ownerCt.getHeight()-5;if(c>d){c=d}}else{var e=this.ownerCt.getWidth()-5;if(c>e){c=e}}}}}if(c<0){c=0}}return(c)},setHandlePos:function(b){var a=this.ownerCt.getPosition();if(this._vert){this.hhandle.setY(b+a[1]-1)}else{this.hhandle.setX(b+a[0]-1)}},setNewPos:function(a){if(this._vert){this.setPosition(undefined,a)}else{this.setPosition(a)}},createDragOverlay:function(){var a;a=this.overlay=Ext.getBody().createChild({cls:this.overlayCls,html:"&#160;"});a.unselectable();a.setSize(Ext.Element.getViewWidth(true),Ext.Element.getViewHeight(true));a.dom.style.cursor=this.el.dom.style.cursor;a.dom.style.zIndex=2000000;a.show()},createDragHandle:function(){var a;a=this.hhandle=Ext.getBody().createChild({html:"&#160;"});a.unselectable();if(this._vert){a.setSize(this.getWidth(),this.getHeight()+2)}else{a.setSize(this.getWidth()+2,this.getHeight())}var b=this.getPosition();a.setXY(b);a.addCls([Ext.baseCSSPrefix+"splitter",Ext.baseCSSPrefix+"splitter-active"]);a.dom.style.zIndex=1000000;a.show()},dragMove:function(a,c){if(this.getXType){if(!this._moved){this.createDragHandle()}this._moved=true;var b=this.getNewPos(a,c);if(b!==null){this.setHandlePos(b)}}},dragEnd:function(a,e){var d=this;if(d.overlay){d.overlay.remove();delete d.overlay}if(d.hhandle){d.hhandle.remove();delete d.hhandle}if(d.getXType&&d._moved&&d._down){var c=d.getNewPos(a,e);if(c!==null){if(d.rtl&&!d._vert){var b=this.ownerCt.getWidth();c=b-c}d.setNewPos(c);d.fireEvent("moved",d,c)}}},do_mousedown:function(d,c,e,a){d.preventDefault();if(!this._down){this._down=true;this.createDragOverlay();Ext.EventManager.addListener(this.overlay,"mousemove",function(b){if(this.getXType&&this._down){var f=Ext.EventManager.getPageXY(b);this.dragMove(f[0],f[1])}},this);Ext.EventManager.addListener(this.overlay,"mouseup",function(b){try{var f=Ext.EventManager.getPageXY(b);this.dragEnd(f[0],f[1])}finally{this._moved=false;this._down=false}},this)}}});Ext.define("Ext.panel.HTML",{extend:"Ext.panel.Panel",update:function(){this.callParent(arguments);if(this.rendered){var a=this.getSize();this.setSize(a.width-1,a.height-1);a=this.getSize();this.setSize(a.width+1,a.height+1)}this.fireEvent("afterupdatehtml",this)}});Ext.override(Ext.form.field.Base,{onChange:function(){this.callParent(arguments);var a=_gmo_(this);if(!a.suspendCheckChange){_hed_(a)}},getErrors:function(b){var a=this,d=a.callParent(arguments),c=a.getValue();if(a.uniFmtObj){if(a.minValue!==undefined){if(c<a.minValue){d.push("-")}}if(a.maxValue!==undefined){if(c>a.maxValue){d.push("+")}}}return d},getValue:function(){var a=this,b=a.callParent(arguments);if(a.uniFmtObj){b=b.replace(new RegExp("\\"+a.uniFmtObj.aSep,"g"),"");b=b.replace(a.uniFmtObj.aDec,".");b=b.replace(/[^\d.-]/g,"")}return b},setValue:function(b){var a=this;a.callParent(arguments);if(a.uniFmtObj){$("#"+a.id+"-inputEl").autoNumeric("set",b)}return a},uniOnChange:function(){var c=this,a=c.lastValue,b=null;if(Ext.isDate(a)){b=c.getValue()}else{b=(c.getRawValue?c.getRawValue():c.getValue())}if(!c.isEqual(b,a)&&!c.isDestroyed){_hed_(this)}},addManagedListener:function(f,b,d,c,a,g){var e=this;this.callParent(arguments);if(typeof b=="object"){return}if(e.nm&&d==e.onChangeEvent){e.onChangeEventHooked=true;if(b!="propertychange"){e.addManagedListener(f,b,e.uniOnChange,this)}}}});Ext.override(Ext.util.Observable,{fireEvent:function(a,b){var c=this;if(c.uniSuspendedEvents===true){return}if(c.uniSuspendedEvents&&c.uniSuspendedEvents[a]===true){return}return this.callParent(arguments)}});Ext.override(Ext.data.TreeStore,{indexOf:function(a){if(a&&a.data){return a.data.id}else{return 0}}});Ext.override(Ext.form.RadioGroup,{setValue:function(b){if(Ext.isObject(b)){for(var a in b){if(b[a]==-1){Ext.Array.each(this.items.items,function(c){c.setValue(false)});return this}break}}return this.callParent(arguments)}});Ext.override(Ext.form.field.HtmlEditor,{cTask:null,onChange:function(){this.callParent(arguments);_hed_(this)},setValue:function(a){this.callParent(arguments)},checkChange:function(a){this.callParent();return;if(a===true||this.checkChangeBuffer==undefined){this.callParent();return}if(this.cTask==null){this.cTask=new Ext.util.DelayedTask(function(){this.checkChange(true)},this)}this.cTask.delay(this.checkChangeBuffer)}});Ext.override(Ext.menu.Item,{setIcon:function(b){var a=this.iconEl,c=this.icon;if(a){a.dom.src=b||Ext.BLANK_IMAGE_URL}this.icon=b;this.fireEvent("iconchange",this,c,b)}});Ext.override(Ext.Component,{uniAfterCreate:function(){this.elArray=[];if(!this.uniHasEvent){this.uniHasEvent=[]}this.uniCheckEvent("mouseover");this.uniCheckEvent("mouseout");this.uniCheckEvent("mousedown");this.uniCheckEvent("mouseup");this.uniCheckEvent("mousemove");this.uniCheckEvent("click");this.uniCheckEvent("dblclick");this.__X=-1;this.__Y=-1},uniCheckEvent:function(a){if(this.events[a]===true){this.uniHasEvent[a]=true}},uniSelectFirst:function(){return this.uniSelectNext()},uniSelectNext:function(a,t,k){if(this.uform){var s=this.uform,q=0,v=-1,i=-1,m=-1,j=-1,b=-1,r=1000000,g="",e="",o=true,h=0;if(t===false){o=t}if(a){if(a.uTabIndex){q=a.uTabIndex}g=a.Id1;e=a.Id2;if(g&&uniVars._actPge_.Id1&&g===uniVars._actPge_.Id1&&e!==uniVars._actPge_.Id2){return this.uniSelectFirst()}}if(!g){g=uniVars._actPge_.Id1}if(!e){e=uniVars._actPge_.Id2}if(s){s.tabItems.each(function(d,w){if(d.uTabIndex){if(g===d.Id1&&d.Id2!==e){return true}if(d.isVisible&&d.isVisible()==false){return true}if(d.isDisabled&&d.isDisabled()==true){return true}var c=d.ownerCt;while(c){if(c.isDisabled()==true){return true}if(c.isVisible()==false){return true}c=c.ownerCt}var f=d.uTabIndex;h=q-f;if(o){h=-h}if(i==-1||i>f){i=f;m=w}if(j<f){j=f;b=w}if(h>0&&h<r){r=h;v=w}}});if(v==-1&&k){if(o){v=m}else{v=b}}if(v>=0){var u=s.tabItems.get(v);if(u.focus){u.focus(false);if(a){var n=a.getFocusEl(),l=a.focusCls;if(n&&l){n.removeCls(a.removeClsWithUI(l,true))}}}}}}return v},onBlur:function(b){var a=this;a.callParent(arguments);if(a.uniBlurChanged&&a.trackBlurChange){a.uniBlurChanged=false;ajaxRequest(a,"blurchange")}},addToTab:function(a){if(this.uform){if(a){this.uTabIndex=a}if(this.uform.tabItems.indexOf(this)==-1){this.uform.tabItems.add(this.id,this)}}},ismon:function(b){if(this.mons){for(var a=0;a<this.mons.length;a++){if(this.mons[a].ename==b){return(true)}}}return(false)},unimon:function(b,a,c){if(this.uniHasEvent[b]===true){return}if(this.events[b]===true){return}if(c&&this[c]){return}if(this.ismon(b)==false){this.addEvents(b);this.mon(this.el,b,a,this)}},initUniEvents:function(){if(this.monitorUniEvents){var a="createTouch" in document;this.unimon("mouseover",this.ev_mouseover,"onMouseOver");this.unimon("mouseout",this.ev_mouseout,"onMouseOut");if(a){this.unimon("touchstart",this.ev_mousedown);this.unimon("touchend",this.ev_mouseup);this.unimon("touchmove",this.ev_mousemove)}else{this.unimon("mousedown",this.ev_mousedown);this.unimon("mouseup",this.ev_mouseup);this.unimon("mousemove",this.ev_mousemove)}this.unimon("click",this.ev_click,"onClick");this.unimon("dblclick",this.ev_dblclick)}},uniGetXY:function(f){var d=this.__X=d;var c=this.__Y=c;var a=f.button;if(f.browserEvent.touches){var e=f.browserEvent;if(e.targetTouches&&e.targetTouches[0]){var g=this.getPosition();d=e.targetTouches[0].pageX-g[0];c=e.targetTouches[0].pageY-g[1]}}else{var g=this.getPosition();d=f.getX()-g[0];c=f.getY()-g[1]}this.__X=d;this.__Y=c;return({x:d,y:c,b:a})},do_mouseover:function(a){this.fireEvent("mouseover",this)},do_mouseout:function(a){this.fireEvent("mouseout",this)},do_mousedown:function(d,c,e,a){this.fireEvent("mousedown",this,c,e,a)},do_mouseup:function(d,c,e,a){this.fireEvent("mouseup",this,c,e,a)},do_mousemove:function(d,c,e,a){this.fireEvent("mousemove",this,c,e,a)},ev_mouseover:function(a){if(!this.disabled){this.do_mouseover(a)}},ev_mouseout:function(a){if(!this.disabled){this.do_mouseout(a)}},ev_mousedown:function(a){if(!this.disabled){var b=this.uniGetXY(a);this.do_mousedown(a,b.x,b.y,b.b)}},ev_mouseup:function(a){if(!this.disabled){var b=this.uniGetXY(a);this.do_mouseup(a,b.x,b.y,b.b)}},ev_mousemove:function(a){if(!this.disabled){var b=this.uniGetXY(a);this.do_mousemove(a,b.x,b.y,b.b)}},ev_click:function(a){if(!this.disabled){this.fireEvent("click",this)}},ev_dblclick:function(a){if(!this.disabled){this.fireEvent("dblclick",this)}}});if(Ext.getVersion().major==4&&Ext.getVersion().shortVersion>="4221144"){Ext.override(Ext.selection.CellModel,{_mousedown:function(b,i,c,a,f,h,g,d){if(g.button==2){this.onCellClick(b,i,c,a,f,h,g,d)}},bindComponent:function(a){var b=this;a.on({cellmousedown:b._mousedown,scope:b});this.callParent(arguments)}})}if(Ext.getVersion().major==4&&Ext.getVersion().shortVersion>="4221144"){Ext.override(Ext.selection.RowModel,{_mousedown:function(f,a,d,b,g,c){if(g.button==2){this.onRowClick(f,a,d,b,g,c)}},bindComponent:function(a){var b=this;a.on({itemmousedown:b._mousedown,scope:b});b.callParent(arguments)}})}Ext.override(Ext.form.field.Text,{initComponent:function(){var a=this;a.callParent();a.on("afterrender",function(b){if(b.uniInpMaskObj){$("#"+b.id+"-inputEl").inputmask(b.uniInpMaskObj)}if(b.uniFmtObj){$("#"+b.id+"-inputEl").autoNumeric("init",b.uniFmtObj)}},a)},onKeyDown:function(b){this.callParent(arguments);var a=b.getKey();if(a==b.TAB){_prkeyd_("text",a,_pss_(b),false,null,false,b)}}});function showBrowserWarning(a){if(Ext.isIE&&(!document.documentMode||document.documentMode<9)){Ext.Msg.show({title:"Warning",msg:a,buttons:Ext.MessageBox.OK})}}Ext.define("Ext.form.field.Dummy",{extend:"Ext.form.field.Display",alias:"widget.dummyfield",getValue:function(){return null}});Ext.define("Ext.panel.iframe",{extend:"Ext.panel.Panel",mixins:["uniIFrame"],onRender:function(){this.callParent(arguments);var a={run:function(){if(this.iframe){var b=this.getDoc();if(b.body||b.readyState=="complete"){Ext.TaskManager.stop(a);Ext.defer(this.initEditor,10,this)}}},interval:25,duration:15000,scope:this};Ext.TaskManager.start(a)}});function createMask(a){return new Ext.LoadMask(a)}Ext.override(Ext.grid.RowEditor,{cancelEdit:function(){this.canhide=true;this.callParent(arguments)},initComponent:function(){this.callParent(arguments);this.form.isValid=function(){return true}}});Ext.override(Ext.grid.plugin.RowEditing,{initEditorConfig:function(){var a=this.callParent(arguments);return Ext.apply(a,this.editorCfg)},startEdit:function(){if(this.editor){this.editor.canhide=false}return this.callParent(arguments)}});function _ifrm_(c){function b(k){var h="";k=k.dom;if(k){try{var j=k.contentWindow.document||k.contentDocument||window.frames[k.id].document;if(j){if(Ext.isOpera&&j.location=="about:blank"){return}if(j.body){if((contentNode=j.body.firstChild)&&/pre/i.test(contentNode.tagName)){h=contentNode.textContent}else{if((contentNode=j.getElementsByTagName("textarea")[0])){h=contentNode.value}else{h=j.body.textContent||j.body.innerText}}}}if(h&&h!=""){var g="___BASE64___";if(h.indexOf(g)===0){var f=h.substring(g.length);f=f.replace(/(\r\n|\n|\r)/gm,"");var f=atob(f);h=decodeURIComponent(f)}AjaxSuccess({responseText:h})}}catch(i){var d="";if(h&&h!=""){d=h}AjaxError(i.message,d)}}}var a=Ext.DomHelper.append(document.body,{tag:"iframe",id:c,name:c,frameBorder:0,width:0,height:0,css:"zIndex:-1000;display:none;visibility:hidden;position:absolute;width:0px;height:0px;",src:Ext.SSL_SECURE_URL},true);Ext.fly(a).on("load",Ext.Function.bind(b,this,[a]))}if(Ext.getVersion().major==4){Ext.define("Override.menu.Menu",{override:"Ext.menu.Menu",compatibility:"4",onMouseLeave:function(b){var a=this;if(a.activeChild){if(b.within(a.activeChild.el,true)){return}}a.deactivateActiveItem();if(a.disabled){return}a.fireEvent("mouseleave",a,b)}})};